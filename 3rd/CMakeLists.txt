cmake_minimum_required(VERSION 3.0.2)

set(SDL_SHARED_ENABLED_BY_DEFAULT OFF CACHE BOOL "Build static SDL2")
option(DIRECTX "Disable DirectX" OFF)
option(RENDER_D3D "Disable Direct3D" OFF)
if(WIN32)
    option(VIDEO_OPENGLES "Disable OpenGL ES on Windows" OFF)
endif()
add_subdirectory(SDL2-2.0.4)
set(SDL2_INCLUDES ${SDL2_SOURCE_DIR}/include PARENT_SCOPE)
set(SDL2_INCLUDES ${SDL2_SOURCE_DIR}/include)

project(SDL2_mixer)
file(GLOB SDL2_mixer_SOURCES SDL2_mixer-2.0.1/*.c SDL2_mixer-2.0.1/external/libogg-1.3.1/src/*.c SDL2_mixer-2.0.1/external/libvorbisidec-1.2.1/*.c)
add_library(SDL2_mixer STATIC ${SDL2_mixer_SOURCES})
target_include_directories(SDL2_mixer PRIVATE ${SDL2_INCLUDES})
target_compile_definitions(SDL2_mixer PRIVATE -DOGG_MUSIC)
set(SDL2_mixer_INCLUDES ${SDL2_mixer_SOURCE_DIR}/SDL2_mixer-2.0.1 PARENT_SCOPE)

project(SDL2_image)
file(GLOB SDL2_image_SOURCES SDL2_image-2.0.1/*.c SDL2_image-2.0.1/external/libpng-1.6.2/*.c SDL2_image-2.0.1/external/zlib-1.2.8/*.c)
add_library(SDL2_image STATIC ${SDL2_image_SOURCES})
target_include_directories(SDL2_image PRIVATE ${SDL2_INCLUDES})
target_compile_definitions(SDL2_image PRIVATE -DLOAD_BMP -DLOAD_GIF -DLOAD_LBM -DLOAD_PCX -DLOAD_PNM -DLOAD_TGA -DLOAD_XCF -DLOAD_XPM -DLOAD_XV -DLOAD_PNG)
set(SDL2_image_INCLUDES ${SDL2_image_SOURCE_DIR}/SDL2_image-2.0.1 PARENT_SCOPE)

option(JSONCPP_WITH_TESTS "Disable tests" OFF)
option(JSONCPP_WITH_POST_BUILD_UNITTEST "Disable unit-tests" OFF)
option(JSONCPP_WITH_PKGCONFIG_SUPPORT "Disable pkg-config" OFF)
add_subdirectory(jsoncpp-1.7.4)
set(JSONCPP_INCLUDES ${jsoncpp_SOURCE_DIR}/include PARENT_SCOPE)

if(WIN32)
    project(glew)
    file(GLOB glew_SOURCES glew-2.0.0/src/glew.c)
    add_library(glew STATIC ${glew_SOURCES})
    target_include_directories(glew PRIVATE glew-2.0.0/include)
    target_compile_definitions(glew PRIVATE -DGLEW_NO_GLU -DGLEW_BUILD)
    set(glew_INCLUDES ${glew_SOURCE_DIR}/glew-2.0.0/include PARENT_SCOPE)
endif()
